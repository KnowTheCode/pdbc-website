!function($,window,document,undefined){"use strict";function initFacultyOverlay(){var $avatar=$(".faculty--card .faculty-avatar"),$overlay=$avatar.next(),$avatarHeight=$avatar.outerHeight();$overlay.css({lineHeight:$avatarHeight+"px",height:$avatarHeight})}function initFacultyProfiles(){$facultyProfiles.each(function(index){var $parent=$facultyProfiles.closest(".faculty--grid"),$panel=$(this),$block=$($facultyBlocks[index]),width=$parent.length>0?$parent.width():0,pos=$block.length>0?$parent.position().left-$block.position().left:0;$panel.css({flexDirection:"column",left:pos+"px",width:width,maxWidth:width})})}function initRevealHandler(){$(".faculty--card").on("click",function(){revealHandler($(this),$facultyCards.index(this))}),$(".profile-close--button").on("click",function(){var index=$facultyClose.index(this);revealHandler($($facultyCards[index]),index)})}function closeAll(panelState,$parent,$panel){$facultyBlocks.each(function(index){var $block=$(this);if("active"!=$block.attr("data-panel-state"))return!0;$block.attr("data-panel-state","inactive");var $panel=$($facultyProfiles[index]);$panel.hide()}).promise().done(function(){doReveal(panelState,$parent,$panel)})}function doReveal(panelState,$parent,$panel){var $grid=$parent.parent(),gridState=$grid.attr("data-panel-state");"active"==panelState?(panelState="inactive",gridState="closed",$panel.slideUp("fast")):($panel.slideDown("slow"),panelState="active",gridState="open"),$parent.attr("data-panel-state",panelState),$grid.attr("data-panel-state",gridState)}var $window,$facultyBlocks,$facultyCards,$facultyProfiles,$facultyClose,init=function(){$window=$(window),$facultyBlocks=$(".faculty--block"),$facultyCards=$(".faculty--card"),$facultyProfiles=$(".faculty--profile-panel"),$facultyClose=$(".profile-close--button"),initFacultyOverlay(),initFacultyProfiles(),initRevealHandler(),$(window).resize(initFacultyOverlay).resize(initFacultyProfiles)},revealHandler=function($card,index){var $parent=$($facultyBlocks[index]),$panel=$($facultyProfiles[index]),panelState=$parent.attr("data-panel-state");"undefined"!=typeof $panel&&null!==$panel&&closeAll(panelState,$parent,$panel)};$(document).ready(function(){init()})}(jQuery,window,document);